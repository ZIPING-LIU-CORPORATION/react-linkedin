function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/* Auto generated, hash = 2xnr98u0iux66h5q9lkxquv5q */
//From LinkedIn TODO: Break this file down so that we can actually unit test it.
import React, { Component } from "react";
import { createRoot } from "react-dom/client";
import { cloneDeep } from "lodash";
export default class LinkedinBadgeLoader extends Component {
  //Must match callback on helpers.js
  //Keeps track of number of responses recieved for proper cleanup when finished
  //Keeps track of number of responses to expect
  //Keeps track of scripts added for proper cleanup when finished
  static isCNDomain() {
    if (typeof window !== "undefined") {
      const hostName = window?.location?.hostname || window?.location?.href || "";
      const url = new URL(hostName);
      const domain = url.hostname;
      return /linkedin(-ei)?.cn$/.test(domain);
    }

    return false;
  }

  static generateUrl(isEI) {
    const domainPrefix = isEI ? "https://badges.linkedin-ei" : "https://badges.linkedin";
    const domainSuffix = LinkedinBadgeLoader.isCNDomain() ? ".cn" : "";
    return `${domainPrefix}${domainSuffix}/js/linkedInBadge.js`;
  }

  constructor(props) {
    super(props);

    _defineProperty(this, "CALLBACK_NAME", "LIBadgeCallback");

    _defineProperty(this, "BADGE_NAMES", [".LI-profile-badge", ".LI-entity-badge"]);

    _defineProperty(this, "SCRIPT_NAMES", ["badge-base__link", "LI-simple-link"]);

    _defineProperty(this, "TRACKING_PARAM", "profile-badge");

    _defineProperty(this, "responsesReceived", 0);

    _defineProperty(this, "expectedResponses", 0);

    _defineProperty(this, "scripts", []);

    _defineProperty(this, "childScripts", void 0);

    _defineProperty(this, "badges", void 0);

    this.state = {
      locale: props.locale || "en_US",
      size: props.size || "medium",
      theme: props.theme || "light",
      type: props.type || "horizontal",
      vanity: props.vanity || "liu",
      version: props.version || "v1",
      badgeLoaded: false
    };
    this.responseHandler = this.responseHandler.bind(this);
    this.childScripts = new Map();
    this.tryClean = this.tryClean.bind(this);
    this.liuRenderAll = this.liuRenderAll.bind(this);
    this.replaceScriptTags = this.replaceScriptTags.bind(this);
    this.badges = Array.prototype.slice.call(document.querySelectorAll(this.BADGE_NAMES.join(" ")).values(), 0);
    this.renderBadge = this.renderBadge.bind(this);
    window[this.CALLBACK_NAME] = this.responseHandler;
  }
  /**
   * Renders all unrendred LinkedIn Badges on the page
   */


  liuRenderAll() {
    // FROM LINKEDIN TODO -- tracking param for other badge types
    for (const badge of this.badges) {
      const rendered = badge.getAttribute("data-rendered");

      if (rendered !== null && rendered.length > 0) {
        this.expectedResponses++;
        badge.setAttribute("data-rendered", "true");
        this.renderBadge(badge);
      }
    }
  }

  getBadgeKeyQueryParams(badge) {
    const params = [];
    const key_regex = /data-(\w+)/;

    for (const attr of badge.attributes) {
      if (attr.name.startsWith("data-") && attr.name.match(key_regex)) {
        const paramsFound = attr.name.match(key_regex);
        paramsFound?.forEach(param => {
          params.push(`${param}=${attr.value}`);
        });
      }
    }

    return params;
  }
  /*
   * Renders a single badge on the page
   * @param badge: div element of badge to render
   */


  renderBadge(badge) {
    let size = badge.getAttribute("data-size") || "medium",
        locale = badge.getAttribute("data-locale") || "en_US",
        type = badge.getAttribute("data-type") || "vertical",
        theme = badge.getAttribute("data-theme") || "light",
        vanity = badge.getAttribute("data-vanity") || "",
        version = badge.getAttribute("data-version") || "v1",
        isEI = badge.hasAttribute("data-ei") || false,
        entity = badge.getAttribute("data-entity") || "",
        isCreatePage = badge.hasAttribute("data-iscreate") || false,
        uid = Math.round(1000000 * Math.random()),
        baseUrl = LinkedinBadgeLoader.generateUrl(isEI),
        queryParams = ["locale=" + encodeURIComponent(locale), "badgetype=" + encodeURIComponent(type), "badgetheme=" + encodeURIComponent(theme), "uid=" + encodeURIComponent(uid), "version=" + encodeURIComponent(version)];
    let url = baseUrl + "?" + queryParams.join("&");

    if (version === "v2") {
      baseUrl += "view";
      queryParams.push("badgesize=" + encodeURIComponent(size));
      queryParams.push("entity=" + encodeURIComponent(entity));
      queryParams = queryParams.concat(this.getBadgeKeyQueryParams(badge));
    } else {
      baseUrl += "profile";
      queryParams.push("maxsize=" + encodeURIComponent(size));
      queryParams.push("trk=" + encodeURIComponent(this.TRACKING_PARAM));
      queryParams.push("vanityname=" + encodeURIComponent(vanity));
    }

    if (isCreatePage) {
      queryParams.push("fromCreate=true");
    }

    url = baseUrl + "?" + queryParams.join("&");
    badge.setAttribute("data-uid", String(uid));
    this.setState({
      badgeLoaded: true
    });
    this.jsonp(url); //Calls responseHandler when done
  }
  /**
   * Handles a response from the server. Finds badge matching badgeUid and inserts badgeHtml there
   * @param badgeHtml: String representing contents of the badge
   * @param badgeUid: UID of the badge to target
   **/


  responseHandler(badgeHtml, badgeUid) {
    this.responsesReceived++;
    let i, badge, uid, isCreate;
    const defaultWidth = 330; // max possible width

    const defaultHeight = 300; // max possible height

    for (const badge of this.badges) {
      isCreate = badge.hasAttribute("data-iscreate");
      uid = badge.getAttribute("data-uid");

      if (uid === badgeUid) {
        const badgeMarkup = badge.innerHTML;
        const iframe = document.createElement("iframe");

        iframe.onload = () => {
          const iframeBody = iframe?.contentWindow?.document.body; // 5 px buffer to avoid the badge border being cut off.

          iframe.setAttribute("height", String((iframeBody?.scrollHeight || defaultHeight) + 5));
          iframe.setAttribute("width", String(iframeBody?.scrollWidth || defaultWidth) + 5);
        };

        createRoot(iframe).render( /*#__PURE__*/React.createElement("body", null, /*#__PURE__*/React.createElement(React.Fragment, null, badgeHtml)));
        iframe.appendChild(badge);
      }
    }
  } // These functions are needed because badge markup is added via innerHtml property which does not run script tags


  replaceScriptTags(node, isCreate) {
    if (this.shouldReplaceNode(node, isCreate)) {
      node.parentNode?.replaceChild(this.cloneScriptNode(node), node);
      this.childScripts.set(node, true);
    } else {
      let i = 0,
          children = node.childNodes;

      while (i < children.length) {
        this.replaceScriptTags(children[i++], isCreate);
      }
    }

    return node;
  }

  shouldReplaceNode(node, isCreate) {
    return this.isScriptNode(node) && !this.childScripts.get(node) && (!isCreate || isCreate && !node.getAttribute("data-isartdeco"));
  }

  isScriptNode(node) {
    return node.tagName === "SCRIPT";
  }

  cloneScriptNode(node) {
    const script = document.createElement("script");
    const cloneNode = cloneDeep(node);

    for (let i = cloneNode.attributes.length - 1; i >= 0; i--) {
      script.setAttribute(cloneNode.attributes[i].name, cloneNode.attributes[i].value);
    }

    return script;
  }

  render() {
    this.liuRenderAll();
    return /*#__PURE__*/React.createElement("div", {
      className: this.BADGE_NAMES.join(" "),
      "data-locale": this.props.locale,
      "data-size": this.props.size,
      "data-theme": this.props.theme,
      "data-type": this.props.type,
      "data-vanity": this.props.vanity,
      "data-version": this.props.version
    }, /*#__PURE__*/React.createElement("a", {
      className: this.SCRIPT_NAMES.join(" "),
      href: "https://www.linkedin.com/in/liu?trk=profile-badge"
    }, "Ziping L."));
  } // Gets all incoming responses

  /**
   * Tries to clean added tags
   **/


  tryClean() {
    //Clean up after all requests are done..
    //Accounts for people including script more than once
    const done = this.responsesReceived >= this.expectedResponses && this.expectedResponses > 0 || this.responsesReceived >= this.badges.length;

    if (done) {
      delete window[`${this.CALLBACK_NAME}`]; // remove all script tags

      this.scripts.map(function (script) {
        document.body.removeChild(script);
      });
    }
  }
  /*
   * Makes Jsonp request, responses handles by CALLBACK_NAME
   * @param url String: url of server to make request to
   */


  jsonp(url) {
    const script = document.createElement("script");
    script.src = url;
    this.scripts.push(script);
    document.body.appendChild(script);
  }

}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsIkNvbXBvbmVudCIsImNyZWF0ZVJvb3QiLCJjbG9uZURlZXAiLCJMaW5rZWRpbkJhZGdlTG9hZGVyIiwiaXNDTkRvbWFpbiIsIndpbmRvdyIsImhvc3ROYW1lIiwibG9jYXRpb24iLCJob3N0bmFtZSIsImhyZWYiLCJ1cmwiLCJVUkwiLCJkb21haW4iLCJ0ZXN0IiwiZ2VuZXJhdGVVcmwiLCJpc0VJIiwiZG9tYWluUHJlZml4IiwiZG9tYWluU3VmZml4IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwibG9jYWxlIiwic2l6ZSIsInRoZW1lIiwidHlwZSIsInZhbml0eSIsInZlcnNpb24iLCJiYWRnZUxvYWRlZCIsInJlc3BvbnNlSGFuZGxlciIsImJpbmQiLCJjaGlsZFNjcmlwdHMiLCJNYXAiLCJ0cnlDbGVhbiIsImxpdVJlbmRlckFsbCIsInJlcGxhY2VTY3JpcHRUYWdzIiwiYmFkZ2VzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJCQURHRV9OQU1FUyIsImpvaW4iLCJ2YWx1ZXMiLCJyZW5kZXJCYWRnZSIsIkNBTExCQUNLX05BTUUiLCJiYWRnZSIsInJlbmRlcmVkIiwiZ2V0QXR0cmlidXRlIiwibGVuZ3RoIiwiZXhwZWN0ZWRSZXNwb25zZXMiLCJzZXRBdHRyaWJ1dGUiLCJnZXRCYWRnZUtleVF1ZXJ5UGFyYW1zIiwicGFyYW1zIiwia2V5X3JlZ2V4IiwiYXR0ciIsImF0dHJpYnV0ZXMiLCJuYW1lIiwic3RhcnRzV2l0aCIsIm1hdGNoIiwicGFyYW1zRm91bmQiLCJmb3JFYWNoIiwicGFyYW0iLCJwdXNoIiwidmFsdWUiLCJoYXNBdHRyaWJ1dGUiLCJlbnRpdHkiLCJpc0NyZWF0ZVBhZ2UiLCJ1aWQiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJiYXNlVXJsIiwicXVlcnlQYXJhbXMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjb25jYXQiLCJUUkFDS0lOR19QQVJBTSIsIlN0cmluZyIsInNldFN0YXRlIiwianNvbnAiLCJiYWRnZUh0bWwiLCJiYWRnZVVpZCIsInJlc3BvbnNlc1JlY2VpdmVkIiwiaSIsImlzQ3JlYXRlIiwiZGVmYXVsdFdpZHRoIiwiZGVmYXVsdEhlaWdodCIsImJhZGdlTWFya3VwIiwiaW5uZXJIVE1MIiwiaWZyYW1lIiwiY3JlYXRlRWxlbWVudCIsIm9ubG9hZCIsImlmcmFtZUJvZHkiLCJjb250ZW50V2luZG93IiwiYm9keSIsInNjcm9sbEhlaWdodCIsInNjcm9sbFdpZHRoIiwicmVuZGVyIiwiYXBwZW5kQ2hpbGQiLCJub2RlIiwic2hvdWxkUmVwbGFjZU5vZGUiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwiY2xvbmVTY3JpcHROb2RlIiwic2V0IiwiY2hpbGRyZW4iLCJjaGlsZE5vZGVzIiwiaXNTY3JpcHROb2RlIiwiZ2V0IiwidGFnTmFtZSIsInNjcmlwdCIsImNsb25lTm9kZSIsIlNDUklQVF9OQU1FUyIsImRvbmUiLCJzY3JpcHRzIiwibWFwIiwicmVtb3ZlQ2hpbGQiLCJzcmMiXSwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEF1dG8gZ2VuZXJhdGVkLCBoYXNoID0gMnhucjk4dTBpdXg2Nmg1cTlsa3hxdXY1cSAqL1xyXG4vL0Zyb20gTGlua2VkSW4gVE9ETzogQnJlYWsgdGhpcyBmaWxlIGRvd24gc28gdGhhdCB3ZSBjYW4gYWN0dWFsbHkgdW5pdCB0ZXN0IGl0LlxyXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XHJcblxyXG5pbXBvcnQgeyBjcmVhdGVSb290IH0gZnJvbSBcInJlYWN0LWRvbS9jbGllbnRcIjtcclxuaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSBcImxvZGFzaFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgTGlua2VkaW5CYWRnZUxvYWRlclByb3BzID0ge1xyXG4gIGxvY2FsZT86c3RyaW5nO1xyXG4gIHNpemU/OidzbWFsbCd8J21lZGl1bSd8J2xhcmdlJztcclxuICAgdGhlbWU/OidkYXJrJ3wnbGlnaHQnO1xyXG4gICB0eXBlPzonaG9yaXpvbnRhbCd8J3ZlcnRpY2FsJztcclxuICAgdmFuaXR5PzpzdHJpbmc7XHJcbiAgIHZlcnNpb24/Oid2MSd8J3YyJztcclxuIH1cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlua2VkaW5CYWRnZUxvYWRlciBleHRlbmRzIENvbXBvbmVudDxhbnksUmVxdWlyZWQ8TGlua2VkaW5CYWRnZUxvYWRlclByb3BzICYge2JhZGdlTG9hZGVkOmJvb2xlYW59PiA+IHtcclxuICByZWFkb25seSBDQUxMQkFDS19OQU1FOiBzdHJpbmcgPSBcIkxJQmFkZ2VDYWxsYmFja1wiOyAvL011c3QgbWF0Y2ggY2FsbGJhY2sgb24gaGVscGVycy5qc1xyXG4gIHJlYWRvbmx5IEJBREdFX05BTUVTID0gW1wiLkxJLXByb2ZpbGUtYmFkZ2VcIiwgXCIuTEktZW50aXR5LWJhZGdlXCJdO1xyXG4gIHJlYWRvbmx5IFNDUklQVF9OQU1FUyA9W1wiYmFkZ2UtYmFzZV9fbGlua1wiLCBcIkxJLXNpbXBsZS1saW5rXCJdXHJcbiAgXHJcbiAgcmVhZG9ubHkgVFJBQ0tJTkdfUEFSQU0gPSBcInByb2ZpbGUtYmFkZ2VcIjtcclxuICBwcml2YXRlIHJlc3BvbnNlc1JlY2VpdmVkID0gMDsgLy9LZWVwcyB0cmFjayBvZiBudW1iZXIgb2YgcmVzcG9uc2VzIHJlY2lldmVkIGZvciBwcm9wZXIgY2xlYW51cCB3aGVuIGZpbmlzaGVkXHJcbiAgcHJpdmF0ZSBleHBlY3RlZFJlc3BvbnNlcyA9IDA7IC8vS2VlcHMgdHJhY2sgb2YgbnVtYmVyIG9mIHJlc3BvbnNlcyB0byBleHBlY3RcclxuICBwcml2YXRlIHNjcmlwdHM6IEhUTUxTY3JpcHRFbGVtZW50W10gPSBbXTsgLy9LZWVwcyB0cmFjayBvZiBzY3JpcHRzIGFkZGVkIGZvciBwcm9wZXIgY2xlYW51cCB3aGVuIGZpbmlzaGVkXHJcbiAgcHJpdmF0ZSBjaGlsZFNjcmlwdHM6IE1hcDxOb2RlLCBib29sZWFuPjtcclxuICByZWFkb25seSBiYWRnZXM6IEhUTUxFbGVtZW50W107XHJcblxyXG4gIHN0YXRpYyBpc0NORG9tYWluKCkge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgY29uc3QgaG9zdE5hbWUgPVxyXG4gICAgICAgIHdpbmRvdz8ubG9jYXRpb24/Lmhvc3RuYW1lIHx8IHdpbmRvdz8ubG9jYXRpb24/LmhyZWYgfHwgXCJcIjtcclxuXHJcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoaG9zdE5hbWUpO1xyXG4gICAgICBjb25zdCBkb21haW4gPSB1cmwuaG9zdG5hbWU7XHJcbiAgICAgIHJldHVybiAvbGlua2VkaW4oLWVpKT8uY24kLy50ZXN0KGRvbWFpbik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBzdGF0aWMgZ2VuZXJhdGVVcmwoaXNFSTogYm9vbGVhbikge1xyXG4gICAgY29uc3QgZG9tYWluUHJlZml4ID0gaXNFSVxyXG4gICAgICA/IFwiaHR0cHM6Ly9iYWRnZXMubGlua2VkaW4tZWlcIlxyXG4gICAgICA6IFwiaHR0cHM6Ly9iYWRnZXMubGlua2VkaW5cIjtcclxuICAgIGNvbnN0IGRvbWFpblN1ZmZpeCA9IExpbmtlZGluQmFkZ2VMb2FkZXIuaXNDTkRvbWFpbigpID8gXCIuY25cIiA6IFwiXCI7XHJcbiAgICByZXR1cm4gYCR7ZG9tYWluUHJlZml4fSR7ZG9tYWluU3VmZml4fS9qcy9saW5rZWRJbkJhZGdlLmpzYDtcclxuICB9XHJcbiAgY29uc3RydWN0b3IocHJvcHM6IExpbmtlZGluQmFkZ2VMb2FkZXJQcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUgfHwgXCJlbl9VU1wiLFxyXG4gICAgICBzaXplOiBwcm9wcy5zaXplIHx8IFwibWVkaXVtXCIsXHJcbiAgICAgIHRoZW1lOiBwcm9wcy50aGVtZSB8fCBcImxpZ2h0XCIsXHJcbiAgICAgIHR5cGU6IHByb3BzLnR5cGUgfHwgXCJob3Jpem9udGFsXCIsXHJcbiAgICAgIHZhbml0eTogcHJvcHMudmFuaXR5IHx8IFwibGl1XCIsXHJcbiAgICAgIHZlcnNpb246IHByb3BzLnZlcnNpb24gfHwgXCJ2MVwiLFxyXG4gICAgICBiYWRnZUxvYWRlZDogZmFsc2VcclxuICAgIH07XHJcbiAgICB0aGlzLnJlc3BvbnNlSGFuZGxlciA9IHRoaXMucmVzcG9uc2VIYW5kbGVyLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmNoaWxkU2NyaXB0cyA9IG5ldyBNYXA8Tm9kZSwgYm9vbGVhbj4oKTtcclxuICAgIHRoaXMudHJ5Q2xlYW4gPSB0aGlzLnRyeUNsZWFuLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmxpdVJlbmRlckFsbCA9IHRoaXMubGl1UmVuZGVyQWxsLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnJlcGxhY2VTY3JpcHRUYWdzID0gdGhpcy5yZXBsYWNlU2NyaXB0VGFncy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5iYWRnZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLkJBREdFX05BTUVTLmpvaW4oXCIgXCIpKS52YWx1ZXMoKSxcclxuICAgICAgMFxyXG4gICAgKTtcclxuICAgIHRoaXMucmVuZGVyQmFkZ2UgPSB0aGlzLnJlbmRlckJhZGdlLmJpbmQodGhpcyk7XHJcblxyXG4gICAgKHdpbmRvdyBhcyBhbnkpW3RoaXMuQ0FMTEJBQ0tfTkFNRV0gPSB0aGlzLnJlc3BvbnNlSGFuZGxlcjtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVuZGVycyBhbGwgdW5yZW5kcmVkIExpbmtlZEluIEJhZGdlcyBvbiB0aGUgcGFnZVxyXG4gICAqL1xyXG4gIGxpdVJlbmRlckFsbCgpIHtcclxuICAgIC8vIEZST00gTElOS0VESU4gVE9ETyAtLSB0cmFja2luZyBwYXJhbSBmb3Igb3RoZXIgYmFkZ2UgdHlwZXNcclxuXHJcbiAgICBmb3IgKGNvbnN0IGJhZGdlIG9mIHRoaXMuYmFkZ2VzKSB7XHJcbiAgICAgIGNvbnN0IHJlbmRlcmVkID0gYmFkZ2UuZ2V0QXR0cmlidXRlKFwiZGF0YS1yZW5kZXJlZFwiKTtcclxuICAgICAgaWYgKHJlbmRlcmVkICE9PSBudWxsICYmIHJlbmRlcmVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB0aGlzLmV4cGVjdGVkUmVzcG9uc2VzKys7XHJcbiAgICAgICAgYmFkZ2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1yZW5kZXJlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJCYWRnZShiYWRnZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEJhZGdlS2V5UXVlcnlQYXJhbXMoYmFkZ2U6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBjb25zdCBwYXJhbXM6IHN0cmluZ1tdID0gW107XHJcbiAgICBjb25zdCBrZXlfcmVnZXggPSAvZGF0YS0oXFx3KykvO1xyXG4gICAgZm9yIChjb25zdCBhdHRyIG9mIGJhZGdlLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgaWYgKGF0dHIubmFtZS5zdGFydHNXaXRoKFwiZGF0YS1cIikgJiYgYXR0ci5uYW1lLm1hdGNoKGtleV9yZWdleCkpIHtcclxuICAgICAgICBjb25zdCBwYXJhbXNGb3VuZCA9IGF0dHIubmFtZS5tYXRjaChrZXlfcmVnZXgpO1xyXG5cclxuICAgICAgICBwYXJhbXNGb3VuZD8uZm9yRWFjaCgocGFyYW0pID0+IHtcclxuICAgICAgICAgIHBhcmFtcy5wdXNoKGAke3BhcmFtfT0ke2F0dHIudmFsdWV9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwYXJhbXM7XHJcblxyXG4gIH1cclxuXHJcbiAgLypcclxuICAgKiBSZW5kZXJzIGEgc2luZ2xlIGJhZGdlIG9uIHRoZSBwYWdlXHJcbiAgICogQHBhcmFtIGJhZGdlOiBkaXYgZWxlbWVudCBvZiBiYWRnZSB0byByZW5kZXJcclxuICAgKi9cclxuICByZW5kZXJCYWRnZShiYWRnZTogSFRNTEVsZW1lbnQpIHtcclxuICAgIGxldCBzaXplID0gYmFkZ2UuZ2V0QXR0cmlidXRlKFwiZGF0YS1zaXplXCIpIHx8IFwibWVkaXVtXCIsXHJcbiAgICAgIGxvY2FsZSA9IGJhZGdlLmdldEF0dHJpYnV0ZShcImRhdGEtbG9jYWxlXCIpIHx8IFwiZW5fVVNcIixcclxuICAgICAgdHlwZSA9IGJhZGdlLmdldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiKSB8fCBcInZlcnRpY2FsXCIsXHJcbiAgICAgIHRoZW1lID0gYmFkZ2UuZ2V0QXR0cmlidXRlKFwiZGF0YS10aGVtZVwiKSB8fCBcImxpZ2h0XCIsXHJcbiAgICAgIHZhbml0eSA9IGJhZGdlLmdldEF0dHJpYnV0ZShcImRhdGEtdmFuaXR5XCIpIHx8IFwiXCIsXHJcbiAgICAgIHZlcnNpb24gPSBiYWRnZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXZlcnNpb25cIikgfHwgXCJ2MVwiLFxyXG4gICAgICBpc0VJID0gYmFkZ2UuaGFzQXR0cmlidXRlKFwiZGF0YS1laVwiKSB8fCBmYWxzZSxcclxuICAgICAgZW50aXR5ID0gYmFkZ2UuZ2V0QXR0cmlidXRlKFwiZGF0YS1lbnRpdHlcIikgfHwgXCJcIixcclxuICAgICAgaXNDcmVhdGVQYWdlID0gYmFkZ2UuaGFzQXR0cmlidXRlKFwiZGF0YS1pc2NyZWF0ZVwiKSB8fCBmYWxzZSxcclxuICAgICAgdWlkID0gTWF0aC5yb3VuZCgxMDAwMDAwICogTWF0aC5yYW5kb20oKSksXHJcbiAgICAgIGJhc2VVcmwgPSBMaW5rZWRpbkJhZGdlTG9hZGVyLmdlbmVyYXRlVXJsKGlzRUkpLFxyXG4gICAgICBxdWVyeVBhcmFtcyA9IFtcclxuICAgICAgICBcImxvY2FsZT1cIiArIGVuY29kZVVSSUNvbXBvbmVudChsb2NhbGUpLFxyXG4gICAgICAgIFwiYmFkZ2V0eXBlPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHR5cGUpLFxyXG4gICAgICAgIFwiYmFkZ2V0aGVtZT1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh0aGVtZSksXHJcbiAgICAgICAgXCJ1aWQ9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodWlkKSxcclxuICAgICAgICBcInZlcnNpb249XCIgKyBlbmNvZGVVUklDb21wb25lbnQodmVyc2lvbiksXHJcbiAgICAgIF07XHJcblxyXG4gICAgbGV0IHVybCA9IGJhc2VVcmwgKyBcIj9cIiArIHF1ZXJ5UGFyYW1zLmpvaW4oXCImXCIpO1xyXG5cclxuICAgIGlmICh2ZXJzaW9uID09PSBcInYyXCIpIHtcclxuICAgICAgYmFzZVVybCArPSBcInZpZXdcIjtcclxuICAgICAgcXVlcnlQYXJhbXMucHVzaChcImJhZGdlc2l6ZT1cIiArIGVuY29kZVVSSUNvbXBvbmVudChzaXplKSk7XHJcbiAgICAgIHF1ZXJ5UGFyYW1zLnB1c2goXCJlbnRpdHk9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZW50aXR5KSk7XHJcbiAgICAgIHF1ZXJ5UGFyYW1zID0gcXVlcnlQYXJhbXMuY29uY2F0KHRoaXMuZ2V0QmFkZ2VLZXlRdWVyeVBhcmFtcyhiYWRnZSkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYmFzZVVybCArPSBcInByb2ZpbGVcIjtcclxuICAgICAgcXVlcnlQYXJhbXMucHVzaChcIm1heHNpemU9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoc2l6ZSkpO1xyXG4gICAgICBxdWVyeVBhcmFtcy5wdXNoKFwidHJrPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuVFJBQ0tJTkdfUEFSQU0pKTtcclxuICAgICAgcXVlcnlQYXJhbXMucHVzaChcInZhbml0eW5hbWU9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodmFuaXR5KSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzQ3JlYXRlUGFnZSkge1xyXG4gICAgICBxdWVyeVBhcmFtcy5wdXNoKFwiZnJvbUNyZWF0ZT10cnVlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHVybCA9IGJhc2VVcmwgKyBcIj9cIiArIHF1ZXJ5UGFyYW1zLmpvaW4oXCImXCIpO1xyXG4gICAgYmFkZ2Uuc2V0QXR0cmlidXRlKFwiZGF0YS11aWRcIiwgU3RyaW5nKHVpZCkpO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGJhZGdlTG9hZGVkOiB0cnVlIH0pO1xyXG4gICAgdGhpcy5qc29ucCh1cmwpOyAvL0NhbGxzIHJlc3BvbnNlSGFuZGxlciB3aGVuIGRvbmVcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZXMgYSByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuIEZpbmRzIGJhZGdlIG1hdGNoaW5nIGJhZGdlVWlkIGFuZCBpbnNlcnRzIGJhZGdlSHRtbCB0aGVyZVxyXG4gICAqIEBwYXJhbSBiYWRnZUh0bWw6IFN0cmluZyByZXByZXNlbnRpbmcgY29udGVudHMgb2YgdGhlIGJhZGdlXHJcbiAgICogQHBhcmFtIGJhZGdlVWlkOiBVSUQgb2YgdGhlIGJhZGdlIHRvIHRhcmdldFxyXG4gICAqKi9cclxuICByZXNwb25zZUhhbmRsZXIoYmFkZ2VIdG1sOiBIVE1MRWxlbWVudCwgYmFkZ2VVaWQ6IHN0cmluZykge1xyXG4gICAgdGhpcy5yZXNwb25zZXNSZWNlaXZlZCsrO1xyXG5cclxuICAgIGxldCBpLCBiYWRnZSwgdWlkLCBpc0NyZWF0ZTtcclxuICAgIGNvbnN0IGRlZmF1bHRXaWR0aCA9IDMzMDsgLy8gbWF4IHBvc3NpYmxlIHdpZHRoXHJcbiAgICBjb25zdCBkZWZhdWx0SGVpZ2h0ID0gMzAwOyAvLyBtYXggcG9zc2libGUgaGVpZ2h0XHJcblxyXG4gICAgZm9yIChjb25zdCBiYWRnZSBvZiB0aGlzLmJhZGdlcykge1xyXG4gICAgICBpc0NyZWF0ZSA9IGJhZGdlLmhhc0F0dHJpYnV0ZShcImRhdGEtaXNjcmVhdGVcIik7XHJcbiAgICAgIHVpZCA9IGJhZGdlLmdldEF0dHJpYnV0ZShcImRhdGEtdWlkXCIpO1xyXG4gICAgICBpZiAodWlkID09PSBiYWRnZVVpZCkge1xyXG4gICAgICAgIGNvbnN0IGJhZGdlTWFya3VwID0gYmFkZ2UuaW5uZXJIVE1MO1xyXG5cclxuICAgICAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xyXG4gICAgICAgIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBpZnJhbWVCb2R5ID0gaWZyYW1lPy5jb250ZW50V2luZG93Py5kb2N1bWVudC5ib2R5O1xyXG4gICAgICAgICAgLy8gNSBweCBidWZmZXIgdG8gYXZvaWQgdGhlIGJhZGdlIGJvcmRlciBiZWluZyBjdXQgb2ZmLlxyXG4gICAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcclxuICAgICAgICAgICAgXCJoZWlnaHRcIixcclxuICAgICAgICAgICAgU3RyaW5nKChpZnJhbWVCb2R5Py5zY3JvbGxIZWlnaHQgfHwgZGVmYXVsdEhlaWdodCkgKyA1KVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICAgIFwid2lkdGhcIixcclxuICAgICAgICAgICAgU3RyaW5nKGlmcmFtZUJvZHk/LnNjcm9sbFdpZHRoIHx8IGRlZmF1bHRXaWR0aCkgKyA1XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNyZWF0ZVJvb3QoaWZyYW1lKS5yZW5kZXIoXHJcbiAgICAgICAgICA8Ym9keT5cclxuICAgICAgICAgICAgPD57YmFkZ2VIdG1sfTwvPlxyXG4gICAgICAgICAgPC9ib2R5PlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmcmFtZS5hcHBlbmRDaGlsZChiYWRnZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFRoZXNlIGZ1bmN0aW9ucyBhcmUgbmVlZGVkIGJlY2F1c2UgYmFkZ2UgbWFya3VwIGlzIGFkZGVkIHZpYSBpbm5lckh0bWwgcHJvcGVydHkgd2hpY2ggZG9lcyBub3QgcnVuIHNjcmlwdCB0YWdzXHJcbiAgcmVwbGFjZVNjcmlwdFRhZ3Mobm9kZTogTm9kZSwgaXNDcmVhdGU6IGJvb2xlYW4pIHtcclxuICAgIGlmICh0aGlzLnNob3VsZFJlcGxhY2VOb2RlKG5vZGUgYXMgSFRNTEVsZW1lbnQsIGlzQ3JlYXRlKSkge1xyXG4gICAgICBub2RlLnBhcmVudE5vZGU/LnJlcGxhY2VDaGlsZChcclxuICAgICAgICB0aGlzLmNsb25lU2NyaXB0Tm9kZShub2RlIGFzIEhUTUxFbGVtZW50KSxcclxuICAgICAgICBub2RlXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuY2hpbGRTY3JpcHRzLnNldChub2RlLCB0cnVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBpID0gMCxcclxuICAgICAgICBjaGlsZHJlbiA9IG5vZGUuY2hpbGROb2RlcztcclxuICAgICAgd2hpbGUgKGkgPCBjaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLnJlcGxhY2VTY3JpcHRUYWdzKGNoaWxkcmVuW2krK10sIGlzQ3JlYXRlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vZGU7XHJcbiAgfVxyXG5cclxuICBzaG91bGRSZXBsYWNlTm9kZShub2RlOiBIVE1MRWxlbWVudCwgaXNDcmVhdGU6IGJvb2xlYW4pIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHRoaXMuaXNTY3JpcHROb2RlKG5vZGUpICYmXHJcbiAgICAgICF0aGlzLmNoaWxkU2NyaXB0cy5nZXQobm9kZSkgJiZcclxuICAgICAgKCFpc0NyZWF0ZSB8fCAoaXNDcmVhdGUgJiYgIW5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1pc2FydGRlY29cIikpKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGlzU2NyaXB0Tm9kZShub2RlOiBIVE1MRWxlbWVudCkge1xyXG4gICAgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gXCJTQ1JJUFRcIjtcclxuICB9XHJcbiAgY2xvbmVTY3JpcHROb2RlKG5vZGU6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG5cclxuICAgIGNvbnN0IGNsb25lTm9kZSA9IGNsb25lRGVlcChub2RlKTtcclxuICAgIGZvciAobGV0IGkgPSBjbG9uZU5vZGUuYXR0cmlidXRlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKFxyXG4gICAgICAgIGNsb25lTm9kZS5hdHRyaWJ1dGVzW2ldLm5hbWUsXHJcbiAgICAgICAgY2xvbmVOb2RlLmF0dHJpYnV0ZXNbaV0udmFsdWVcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzY3JpcHQ7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICB0aGlzLmxpdVJlbmRlckFsbCgpO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5CQURHRV9OQU1FUy5qb2luKFwiIFwiKX1cclxuICAgICAgICBkYXRhLWxvY2FsZT17dGhpcy5wcm9wcy5sb2NhbGV9XHJcbiAgICAgICAgZGF0YS1zaXplPXt0aGlzLnByb3BzLnNpemV9XHJcbiAgICAgICAgZGF0YS10aGVtZT17dGhpcy5wcm9wcy50aGVtZX1cclxuICAgICAgICBkYXRhLXR5cGU9e3RoaXMucHJvcHMudHlwZX1cclxuICAgICAgICBkYXRhLXZhbml0eT0gIHt0aGlzLnByb3BzLnZhbml0eX1cclxuICAgICAgICBkYXRhLXZlcnNpb249e3RoaXMucHJvcHMudmVyc2lvbn1cclxuICAgICAgPlxyXG4gICAgICAgIDxhXHJcbiAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuU0NSSVBUX05BTUVTLmpvaW4oXCIgXCIpfVxyXG4gICAgICAgICAgaHJlZj1cImh0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS9pbi9saXU/dHJrPXByb2ZpbGUtYmFkZ2VcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIFppcGluZyBMLlxyXG4gICAgICAgIDwvYT5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0cyBhbGwgaW5jb21pbmcgcmVzcG9uc2VzXHJcblxyXG4gIC8qKlxyXG4gICAqIFRyaWVzIHRvIGNsZWFuIGFkZGVkIHRhZ3NcclxuICAgKiovXHJcbiAgdHJ5Q2xlYW4oKSB7XHJcbiAgICAvL0NsZWFuIHVwIGFmdGVyIGFsbCByZXF1ZXN0cyBhcmUgZG9uZS4uXHJcbiAgICAvL0FjY291bnRzIGZvciBwZW9wbGUgaW5jbHVkaW5nIHNjcmlwdCBtb3JlIHRoYW4gb25jZVxyXG4gICAgY29uc3QgZG9uZSA9XHJcbiAgICAgICh0aGlzLnJlc3BvbnNlc1JlY2VpdmVkID49IHRoaXMuZXhwZWN0ZWRSZXNwb25zZXMgJiZcclxuICAgICAgICB0aGlzLmV4cGVjdGVkUmVzcG9uc2VzID4gMCkgfHxcclxuICAgICAgdGhpcy5yZXNwb25zZXNSZWNlaXZlZCA+PSB0aGlzLmJhZGdlcy5sZW5ndGg7XHJcbiAgICBpZiAoZG9uZSkge1xyXG4gICAgICBkZWxldGUgKHdpbmRvdyBhcyBhbnkpW2Ake3RoaXMuQ0FMTEJBQ0tfTkFNRX1gXTtcclxuXHJcbiAgICAgIC8vIHJlbW92ZSBhbGwgc2NyaXB0IHRhZ3NcclxuICAgICAgdGhpcy5zY3JpcHRzLm1hcChmdW5jdGlvbiAoc2NyaXB0KSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHQpO1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLypcclxuICAgKiBNYWtlcyBKc29ucCByZXF1ZXN0LCByZXNwb25zZXMgaGFuZGxlcyBieSBDQUxMQkFDS19OQU1FXHJcbiAgICogQHBhcmFtIHVybCBTdHJpbmc6IHVybCBvZiBzZXJ2ZXIgdG8gbWFrZSByZXF1ZXN0IHRvXHJcbiAgICovXHJcbiAganNvbnAodXJsOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbiAgICBzY3JpcHQuc3JjID0gdXJsO1xyXG4gICAgdGhpcy5zY3JpcHRzLnB1c2goc2NyaXB0KTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuICB9XHJcbn1cclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0EsT0FBT0EsS0FBUCxJQUFnQkMsU0FBaEIsUUFBaUMsT0FBakM7QUFFQSxTQUFTQyxVQUFULFFBQTJCLGtCQUEzQjtBQUNBLFNBQVNDLFNBQVQsUUFBMEIsUUFBMUI7QUFVQSxlQUFlLE1BQU1DLG1CQUFOLFNBQWtDSCxTQUFsQyxDQUE2RztFQUN0RTtFQUtyQjtFQUNBO0VBQ1k7RUFJMUIsT0FBVkksVUFBVSxHQUFHO0lBQ2xCLElBQUksT0FBT0MsTUFBUCxLQUFrQixXQUF0QixFQUFtQztNQUNqQyxNQUFNQyxRQUFRLEdBQ1pELE1BQU0sRUFBRUUsUUFBUixFQUFrQkMsUUFBbEIsSUFBOEJILE1BQU0sRUFBRUUsUUFBUixFQUFrQkUsSUFBaEQsSUFBd0QsRUFEMUQ7TUFHQSxNQUFNQyxHQUFHLEdBQUcsSUFBSUMsR0FBSixDQUFRTCxRQUFSLENBQVo7TUFDQSxNQUFNTSxNQUFNLEdBQUdGLEdBQUcsQ0FBQ0YsUUFBbkI7TUFDQSxPQUFPLHFCQUFxQkssSUFBckIsQ0FBMEJELE1BQTFCLENBQVA7SUFDRDs7SUFFRCxPQUFPLEtBQVA7RUFDRDs7RUFDaUIsT0FBWEUsV0FBVyxDQUFDQyxJQUFELEVBQWdCO0lBQ2hDLE1BQU1DLFlBQVksR0FBR0QsSUFBSSxHQUNyQiw0QkFEcUIsR0FFckIseUJBRko7SUFHQSxNQUFNRSxZQUFZLEdBQUdkLG1CQUFtQixDQUFDQyxVQUFwQixLQUFtQyxLQUFuQyxHQUEyQyxFQUFoRTtJQUNBLE9BQVEsR0FBRVksWUFBYSxHQUFFQyxZQUFhLHNC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